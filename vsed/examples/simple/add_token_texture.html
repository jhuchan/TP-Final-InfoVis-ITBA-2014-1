<html>
  <head>
    <meta charset="utf-8">
    <title>Add token texture on Chart by Visual Sedimentation</title>
    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-30706693-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
    <script type="text/javascript" src="../../js/_VisualSedimentation.js"></script>
    <style>@import url(../../css/fan-of-mike-style.css);</style>
   </head>
   <body>
      <!-- div menu -->
    <header>‚Äç
    <a href="./">Overview</a>
    <b><a style="margin-left:1em;" href="../index.html"> Examples</a></b>
    <a style="margin-left:1em;" href="../../documentation/index.html">Documentation</a></b>
    <a style="margin-left:1em;" href="https://github.com/INRIA/VisualSedimentation" target="_blank">Source</a>
    <a style="margin-left:1em;" href="" target="_blank">Contact / Feedback</a>
  </header>


      <h1>Add token texture</h1>
      
      <!-- div container -->
      <div id="myDemo"></div>
      
      <!-- Create my visual sedimentation -->
      <script type="text/javascript">
      
      // Setting normal chart 
      mySettings = {
          width:500,
          height:500,
          data:{
                model:  [
                          {label:"Column A"},
                          {label:"Column B"},
                          {label:"Column C"},
                        ],
                strata:[
                          [{initValue: 1, label: "Strata 1 col A"}],
                          [{initValue: 2, label: "Strata 1 col B"}],
                          [{initValue: 3, label: "Strata 2 col C"}]      
                        ],
                stream: { 
                          provider:'none',
                          refresh:10000/6
                        }
              },
          sedimentation:{
            token:{
              size:{original:10,minimum:10}
            },
            aggregation:{
              height:300
            }
          },
          options:{
            layout:false
          }
        }

      // create the chart 
      var barChart = $("#myDemo").vs(mySettings).data('visualSedimentation');

      // add a token with texture 
      var myObamaToken = barChart.addToken({
                    timestamp:1,
                    category:2,
                    value: 30,
                    size:20,
                    texture:{src:'http://i.forbesimg.com/media/lists/people/barack-obama_50x50.jpg'},
                    userdata:{},
                    callback:{}
                  })

      var myObama2Token = barChart.addToken({
                    timestamp:1,
                    category:2,
                    value: 40,
                    size:20,
                    texture:{src:'http://www.france24.com/fr/files_fr/video/obama-50_27.jpg'},
                    userdata:{},
                    callback:{}
                  })

      var myObama3Token = barChart.addToken({
                    timestamp:1,
                    category:2,
                    value: 50,
                    size:40,
                    texture:{src:'http://images.politico.com/global/v5/2012/candidates/obama-50x50.jpg'},
                    userdata:{},
                    callback:{}
                  })

      var myObama4Token = barChart.addToken({
                    timestamp:1,
                    category:2,
                    value: 90,
                    size:30,
                    texture:{src:'http://img.ehowcdn.com/other-people/ehow/images/a04/gb/op/have-swagger-like-barack-obama-180x180.jpg'},
                    userdata:{},
                    callback:{}
                  })


    // Work also with base 64 encoded image  
    var myRomneyToken = barChart.addToken({
                    timestamp:1,
                    category:1,
                    value: 30,
                    size:25,
                    texture:{src:'data:image/jpeg;base64,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'},
                    userdata:{},
                    callback:{}
                  })

    var myRomneyToken = barChart.addToken({
                    timestamp:1,
                    category:1,
                    value: 40,
                    size:30,
                    texture:{src:'http://polltracker.talkingpointsmemo.com/images/candidate/romney.png'},
                    userdata:{},
                    callback:{}
                  })

      var myRomneyToken = barChart.addToken({
                    timestamp:1,
                    category:1,
                    value: 50,
                    size:70,
                    texture:{src:'http://usatweets.files.wordpress.com/2011/11/romney-2012-twitteravatar_normal.jpg?w=48'},
                    userdata:{},
                    callback:{}
                  })

      var myRomneyToken = barChart.addToken({
                    timestamp:1,
                    category:1,
                    value: 80,
                    size:40,
                    texture:{src:'http://nation.foxnews.com/sites/nation.foxnews.com/files/styles/avatar/public/60_083112_Greta_romney.jpg'},
                    userdata:{},
                    callback:{}
                  })



// LOAD JSON LAST pictures from flick r with the obama tag and add it inside the first column
$.getJSON("http://api.flickr.com/services/feeds/photos_public.gne?jsoncallback=?",
  {
    tags: "obama",
    tagmode: "any",
    format: "json"
  },
  function(data) {
    $.each(data.items, function(i,item){
       barChart.addToken({
                    y:75,
                    timestamp:1,
                    category:0,
                    value: 80,
                    size:20,
                    texture:{src:item.media.m},
                    userdata:{},
                    callback:{}
                  })
      //$("<img/>").attr("src", item.media.m).appendTo("#images");
      //if ( i == 3 ) return false;
    });
  });


      console.log(myObamaToken)

      </script>
      <!-- end -->

  </body>   
</html>