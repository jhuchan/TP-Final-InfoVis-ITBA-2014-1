<html>
  <head>
    <meta charset="utf-8">
    <title>Token call back | Visual Sedimentation</title>
    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-30706693-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
   <script>var _vsDirectory = "../../js/"; </script> 
    <script type="text/javascript" src="../../js/_VisualSedimentation.js"></script>
    <style>@import url(../../css/fan-of-mike-style.css);</style>
   </head>
   <body>
      <!-- div menu -->
    <header>‚Äç
    <a href="./">Overview</a>
    <b><a style="margin-left:1em;" href="../../index.html"> Examples</a></b>
    <a style="margin-left:1em;" href="../../documentation/index.html">Documentation</a></b>
    <a style="margin-left:1em;" href="https://github.com/INRIA/VisualSedimentation" target="_blank">Source</a>
    <a style="margin-left:1em;" href="" target="_blank">Contact / Feedback</a>
  </header>

      <h1>Token call back </h1>
      
      <!-- container -->
      <div id="myDemo"></div>
      <div id="text"></div>
      
      <!-- Create my visual sedimentation -->
      <script type="text/javascript">
      
      // Setting normal chart 
      mySettings = {
          x:0,
          y:0,
          width:300,
          height:300,
          data:{
                "model":
                        [
                          {label:"Column A"},
                          {label:"Column B"},
                        ],
                "strata":[
                          [
                            {initValue: 100, label: "Strata 1 col A"},
                            {initValue: 15, label: "Strata 2 col A"},
                          ],[
                            {initValue: 55, label: "Strata 1 col B"},
                            {initValue: 5, label: "Strata 2 col B"},
                          ] ,
                          [
                            {initValue: 5, label: "Strata 2 col B"},

                          ] 
                        ],
                stream:{ provider:'generator',refresh:10000000000/6}
              },
        sedimentation:{
            token:{
              size:{original:12,minimum:8}
            },
            flocculate:{
              number:1,
              bufferSize:1
            },
          }
        }

      // create the chart 
      var barChart = $("#myDemo").vs(mySettings).data('visualSedimentation');

      var myImpulseToken = barChart.addToken({
               callback:{
                  // when the token arrive in the physical world
                  suspension:function(token){
                    alert("Hello, my token name is "+userdata.name+" I'm now in suspension, I'm entering in the physical world ")
                  },

                  // when the token move 
                  draw:function(token){
                   // console.log("Draw this at, x:"
                   //             + userdata.x
                   //             +" y:"+userdata.y)
                  },

                  //accumulation:function(userdata){alert("I'm in accumulation state")},
                  flocculation:function(token){
                    alert("I'm in floculation, byby this world, welcome to agregation state")
                  },

                  /* DOESN'T IMPLEMENTED YET  when the mouse rollOut  the token 
                  bufferStrata:function(userdata){
                    alert("I'm on the waiting list for floculation")
                    console.log(userdata)
                  },*/

                  /* DOESN'T IMPLEMENTED YET  n 
                  destroy:function(userdata){
                    alert("I'm on the waiting list for floculation")
                    console.log(userdata)
                  },*/

                  // MOUSEOVER :when the mouse rollhover the token 
                  mouseover:function(token){
                    alert("Don't touche me, bro !- rollOver")
                  },
                  onclick:function(token){
                    alert("Hey what's up bro !- click")
                  },
                },
               size:30,
               category:0,
               name:"balloon"
             })


      </script>
      <!-- end -->

  </body>   
</html>